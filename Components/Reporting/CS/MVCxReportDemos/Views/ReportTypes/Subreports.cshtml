@model ReportsDemoModel
@section AdditionalResources {
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/RunDesignerButton.css")" />
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/ViewerSelector.css")" />
}

@section TopRightMenuRegion {
    @Html.Partial("ViewerSelectorPartial", Model.ReportID)
    @Html.Partial("ShowDesignerButtonPartial", Model.ReportID)
}

@if(Model.IsASPViewer) {
    <script type="text/javascript">
        (function(window) {
            function editorInitialized() {
                if(fromDateParameter && fromDateParameter.isInitialized
                    && toDateParameter && toDateParameter.isInitialized) {
                    editorInitializedCore();
                }
            }
            function editorInitializedCore() {
                fromDateParameter.ValueChanged.AddHandler(function() {
                    toDateParameter.Validate();
                });
                fromDateParameter.Validation.AddHandler(function(editor, e) {
                    e.isValid = editor.GetValue() <= toDateParameter.GetValue();
                });
                toDateParameter.ValueChanged.AddHandler(function() {
                    fromDateParameter.Validate();
                });
                toDateParameter.Validation.AddHandler(function(editor, e) {
                    e.isValid = toDateParameter.GetValue() >= fromDateParameter.GetValue();
                });
            }
            window.editorInitialized = editorInitialized;
        })(window);
    </script>
    @Html.Partial("SubreportsViewerPartial", Model)
} 
else if(Model.IsHTML5Viewer) {
    @Html.DevExpress().WebDocumentViewer(settings => {
        settings.Name = "webDocumentViewer";
    }).Bind(Model.Report).GetHtml()
} 
else if(Model.IsMobileViewer) {
    @Html.Partial("MobileEmulator", Model.EmulatorModel)
}
