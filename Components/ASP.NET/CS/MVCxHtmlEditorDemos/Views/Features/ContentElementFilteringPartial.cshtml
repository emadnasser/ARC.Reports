@model HtmlEditorContentElementFilteringOptions
@Html.DevExpress().HtmlEditor(
    settings => {
        settings.Name = "HtmlEditor";
        settings.CallbackRouteValues = new { Controller = "Features", Action = "ContentElementFilteringPartial" };
        settings.CustomDataActionRouteValues = new { Controller = "Features", Action = "ContentElementFilteringHtmlContentLoad" };
        settings.ClientSideEvents.CustomDataCallback = "onCustomDataCallbackHandler";
        
        settings.Height = Unit.Pixel(430);
        settings.Width = Unit.Pixel(800);

        if(Model != null) {
            settings.SettingsHtmlEditing.AllowScripts = false;
            settings.SettingsHtmlEditing.ContentElementFiltering.Tags = Model.Tags.FilteringList.ToArray();
            settings.SettingsHtmlEditing.ContentElementFiltering.TagFilterMode = Model.Tags.FilterMode;

            settings.SettingsHtmlEditing.ContentElementFiltering.Attributes = Model.Attributes.FilteringList.ToArray();
            settings.SettingsHtmlEditing.ContentElementFiltering.AttributeFilterMode = Model.Attributes.FilterMode;

            settings.SettingsHtmlEditing.ContentElementFiltering.StyleAttributes = Model.StyleAttributes.FilteringList.ToArray();
            settings.SettingsHtmlEditing.ContentElementFiltering.StyleAttributeFilterMode = Model.StyleAttributes.FilterMode;
        }
        
        settings.SettingsDialogs.InsertImageDialog.SettingsImageUpload.FileSystemSettings.Assign(HtmlEditorFeaturesDemosHelper.FileSaveSettings.FileSystemSettings);
        settings.SettingsDialogs.InsertImageDialog.SettingsImageUpload.ValidationSettings.Assign(HtmlEditorFeaturesDemosHelper.ImageUploadValidationSettings);

        settings.SettingsHtmlEditing.UpdateBoldItalic = false;
        settings.SettingsHtmlEditing.UpdateDeprecatedElements = false;
    }
).Bind(Model.Html).GetHtml()