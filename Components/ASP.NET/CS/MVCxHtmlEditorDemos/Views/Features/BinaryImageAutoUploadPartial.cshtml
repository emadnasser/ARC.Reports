@model HtmlEditorBinaryImageAutoUploadOptions
@Html.DevExpress().HtmlEditor(settings => {
    settings.Name = "DemoHtml";
    settings.CallbackRouteValues = new { Controller = "Features", Action = "BinaryImageAutoUploadPartial" };
    
    settings.CssFiles.Clear();
    settings.CssFiles.Add("~/Content/HtmlEditor/DemoCss/BinaryImageAutoUploadCss.css");

    settings.Toolbars.Clear();
    settings.Toolbars.Add((toolbar) => {
        toolbar.Items.Add((ToolbarUndoButton btn) => { });
        toolbar.Items.Add((ToolbarRedoButton btn) => { });
        toolbar.Items.Add((ToolbarBoldButton btn) => { btn.BeginGroup = true; });
        toolbar.Items.Add((ToolbarItalicButton btn) => { });
        toolbar.Items.Add((ToolbarUnderlineButton btn) => { });
        toolbar.Items.Add((ToolbarStrikethroughButton btn) => { });
        toolbar.Items.Add((ToolbarFullscreenButton btn) => { btn.BeginGroup = true; });
    });

    settings.Width = Unit.Pixel(650);
    settings.Height = Unit.Pixel(600);
    settings.Settings.AllowSaveBinaryImageToServer = Model.AllowSaveBinaryImageToServer;
    settings.SettingsDialogs.InsertImageDialog.ShowInsertFromWebSection = false;
    settings.SettingsDialogs.InsertImageDialog.SettingsImageUpload.UploadStorage = UploadFileStorageType.Azure;
    settings.SettingsDialogs.InsertImageDialog.SettingsImageUpload.AzureSettings.AccountName = Model.AzureAccountName;
    settings.SettingsDialogs.InsertImageDialog.SettingsImageUpload.AzureSettings.ContainerName = Model.AzureContainerName;
    
    settings.Init = (s, e) => {
        ((MVCxHtmlEditor)s).ImageFileSaving += Model.ProcessUploadedFile;
    };
    settings.ClientSideEvents.BeginCallback = "onBeginCallback";
}).Bind(Model.DemoHtml).GetHtml()