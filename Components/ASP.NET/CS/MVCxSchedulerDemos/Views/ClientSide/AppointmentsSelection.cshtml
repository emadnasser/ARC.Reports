@model SchedulerDataObject

<script type="text/javascript">
    function OnAppointmentsSelectionChanged(s, e) {
        var appointmentIds = e.appointmentIds;
        if(appointmentIds && appointmentIds.length == 1)
            s.GetAppointmentProperties(appointmentIds[0], 'Subject;Location;Start;End;Description;ContactInfo', OnGetAppointmentProps);
        else
            OnGetAppointmentProps(null);
    }
    function OnGetAppointmentProps(values) {
        $("#aptsubj").html(values ? values[0] : '&nbsp;');
        $("#aptloc").html(values ? values[1] : '&nbsp;');
        $("#aptstart").html(values ? FormatDate(values[2]) : '&nbsp;');
        $("#aptend").html(values ? FormatDate(values[3]) : '&nbsp;');
        $("#aptdesc").html(values ? values[4] : '&nbsp;');
        $("#aptcontact").html(values && values[5] ? values[5] : '&nbsp;');
    }
    function FormatDate(date) {
        var result = [date.getDate(), date.getMonth() + 1, date.getFullYear()].join('.') + ' ' + [date.getHours(), date.getMinutes()].join(':');
        return result.replace(/(\b\d{1}\b)/g, '0$1');
    }
</script>
@Html.Partial("AppointmentsSelectionPartial", Model)
<br />
<div class="chartOptionsPanel" style="width: 100%; padding: 10px 0px 10px 0px; overflow: hidden">
    <div style="padding-bottom: 10px; text-align: center">
        <b>Appointment Details</b>
    </div>
    <div class="vertOptionsPanel" style="width: 100%">
        <div style="padding-bottom: 10px; float: none">
            <span style="width: 20%; padding: 0px; font-weight: bold">Subject:</span>
	        <span id="aptsubj">&nbsp;</span>
        </div>
        <div style="padding-bottom: 10px; float: none">
            <span style="width: 20%; padding: 0px; font-weight: bold">Location:</span>
	        <span id="aptloc">&nbsp;</span>
        </div>
        <div style="padding-bottom: 10px; float: none">
            <span style="width: 20%; padding: 0px; font-weight: bold">Start time:</span>
	        <span id="aptstart">&nbsp;</span>
        </div>
        <div style="padding-bottom: 10px; float: none">
            <span style="width: 20%; padding: 0px; font-weight: bold">End time:</span>
	        <span id="aptend">&nbsp;</span>
        </div>
        <div style="padding-bottom: 10px; float: none">
            <span style="width: 20%; padding: 0px; font-weight: bold">Description:</span>
	        <span id="aptdesc">&nbsp;</span>
        </div>
        <div style="padding-bottom: 10px; float: none">
            <span style="width: 100%; padding: 0px; font-weight: bold">Contact information:</span>
            <span id="aptcontact">&nbsp;</span>
        </div>	
    </div>
</div>
