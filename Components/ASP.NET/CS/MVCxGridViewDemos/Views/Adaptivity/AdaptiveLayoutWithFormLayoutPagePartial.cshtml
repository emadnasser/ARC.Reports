@Html.DevExpress().GridView(
    settings => {
        settings.Name = "GridView";
        settings.CallbackRouteValues = new { Controller = "Adaptivity", Action = "AdaptiveLayoutWithFormLayoutPagePartial" };
        settings.Width = Unit.Percentage(100);
        settings.EnableRowsCache = false;

        settings.Settings.VerticalScrollBarMode = ScrollBarMode.Visible;
        settings.Settings.VerticalScrollableHeight = 500;
        settings.Settings.ShowGroupPanel = true;
        settings.Settings.ShowFooter = true;

        settings.SettingsAdaptivity.AdaptivityMode = GridViewAdaptivityMode.HideDataCellsWindowLimit;
        settings.SettingsAdaptivity.HideDataCellsAtWindowInnerWidth = 800;
        settings.SettingsAdaptivity.AllowOnlyOneAdaptiveDetailExpanded = true;

        settings.SettingsAdaptivity.AdaptiveDetailLayoutProperties.ColCount = 2;
        settings.SettingsAdaptivity.AdaptiveDetailLayoutProperties.SettingsAdaptivity.AdaptivityMode = FormLayoutAdaptivityMode.SingleColumnWindowLimit;
        settings.SettingsAdaptivity.AdaptiveDetailLayoutProperties.SettingsAdaptivity.SwitchToSingleColumnAtWindowInnerWidth = 600;
        settings.SettingsAdaptivity.AdaptiveDetailLayoutProperties.Items.AddColumnItem("ProductName").ColSpan = 2;
        settings.SettingsAdaptivity.AdaptiveDetailLayoutProperties.Items.AddColumnItem("CategoryID").ColSpan = 2;
        settings.SettingsAdaptivity.AdaptiveDetailLayoutProperties.Items.AddColumnItem("QuantityPerUnit").Width = Unit.Percentage(50);
        settings.SettingsAdaptivity.AdaptiveDetailLayoutProperties.Items.AddColumnItem("UnitPrice").Width = Unit.Percentage(50);
        settings.SettingsAdaptivity.AdaptiveDetailLayoutProperties.Items.AddColumnItem("UnitsInStock");
        settings.SettingsAdaptivity.AdaptiveDetailLayoutProperties.Items.AddColumnItem("Discontinued");
            
        settings.KeyFieldName = "ProductID";
        settings.Columns.Add("ProductName");
        settings.Columns.Add(column => {
            column.FieldName = "CategoryID";
            column.Caption = "Category Name";
            column.AdaptivePriority = 1;

            column.ColumnType = MVCxGridViewColumnType.ComboBox;
            var comboBoxProperties = column.PropertiesEdit as ComboBoxProperties;
            comboBoxProperties.DataSource = NorthwindDataProvider.GetCategories();
            comboBoxProperties.TextField = "CategoryName";
            comboBoxProperties.ValueField = "CategoryID";
            comboBoxProperties.ValueType = typeof(int);
        });
        settings.Columns.Add(column => {
            column.FieldName = "QuantityPerUnit";
            column.AdaptivePriority = 1;
        });
        settings.Columns.Add(column => {
            column.FieldName = "UnitPrice";
            column.Width = 100;
            column.PropertiesEdit.DisplayFormatString = "c";
        });
        settings.Columns.Add(column => {
            column.FieldName = "UnitsInStock";
            column.Width = 100;
        });
        settings.Columns.Add(column => {
            column.FieldName = "Discontinued";
            column.Width = 100;
            column.AdaptivePriority = 2;
            column.ColumnType = MVCxGridViewColumnType.CheckBox;
        });

        settings.TotalSummary.Add(DevExpress.Data.SummaryItemType.Count, "ProductName");
        settings.TotalSummary.Add(DevExpress.Data.SummaryItemType.Min, "UnitPrice");
        settings.TotalSummary.Add(DevExpress.Data.SummaryItemType.Max, "UnitPrice");
            
        settings.SettingsPager.PageSize = 16;
        settings.SettingsPager.NumericButtonCount = 6;
        settings.Styles.Cell.Wrap = DefaultBoolean.False;

        settings.PreRender = (sender, e) => {
            MVCxGridView grid = (MVCxGridView)sender;
            ((GridViewDataColumn)grid.Columns["CategoryID"]).GroupBy();
            grid.ExpandRow(0);
        };
    }).Bind(Model).GetHtml()