@model IEnumerable

@section AdditionalResources {
    <link href="@Url.Content("~/Content/Common/AjaxActionLink.css")" rel="stylesheet" type="text/css" />
    <script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js")" type="text/javascript"></script>
}
@{
    int popupHeight = 180;
    int popupWidth = 500;
}
<script type="text/javascript">
    function ShowCategoryInformation(){
        var mainElement = gvProducts.GetMainElement();
        var x = ASPxClientUtils.GetAbsoluteX(mainElement) + (gvProducts.GetWidth() - @(popupWidth)) / 2;
        var y = ASPxClientUtils.GetAbsoluteY(mainElement) + (gvProducts.GetHeight() - @(popupHeight)) / 2;
        categoryPopup.ShowAtPos(x, y);
    }
</script>

@Html.Partial("AjaxActionLinkPartial", Model)

@Html.DevExpress().PopupControl(
    settings => {
        settings.Name = "categoryPopup";
        settings.AllowDragging = true;
        settings.Height = popupHeight;
        settings.Width = popupWidth;
        settings.HeaderText = "Category information";
        settings.PopupAnimationType = AnimationType.Fade;
        settings.CloseOnEscape = true;

        settings.SetContent(() => {
            ViewContext.Writer.Write(@"<div id=""categoryContent""></div>");
        });
    }).GetHtml()
